<div class="p-grid p-mx-0 p-justify-center centered-grid">
  <div class="p-col-12 p-sm-9 p-md-6 p-lg-4">
    <div class="p-text-center heading">
      <h1><i class="pi pi-lock"></i> Admin <i class="pi pi-key"></i></h1>
    </div>
    <p-card class="login-card">
      <div class="p-card-header">
        <div class="p-d-flex p-justify-center">
          <h1 class="p-mb-2 p-text-light">Activation</h1>
        </div>
      </div>
      <form [formGroup]="activateForm" (ngSubmit)="activate()" *ngIf="!expired && !activated">
        <div class="p-card-content">
          <div class="p-grid p-px-5">
            <div class="p-col-12 p-text-center">
              <h1 class="p-text-light">Welcome, {{user.firstName}}</h1>
              <p>Activate your account by providing a password you plan on using while accessing it.</p>
            </div>
            <div class="p-col-12 p-field">
              <span class="p-float-label">
                <input id="password"
                       type="password"
                       [feedback]="false"
                       formControlName="password"
                       [style]="{width: '100%'}"
                       pPassword>
                <label for="password">Password</label>
              </span>
              <small class="p-error" *ngIf="activateForm.get('password').dirty && activateForm.get('password').invalid">Password must be at least 8 characters long and contain each of the following: <br> uppercase letter, lowercase letter, number, special character.</small>
            </div>
            <div class="p-col-12 p-mt-2 p-field">
              <span class="p-float-label">
                <input id="repeat"
                       type="password"
                       [feedback]="false"
                       formControlName="repeat"
                       [style]="{width: '100%'}"
                       pPassword>
                <label for="repeat">Repeat password</label>
              </span>
              <small class="p-error" *ngIf="activateForm.get('repeat').dirty && activateForm.get('repeat').invalid">Passwords do not match.</small>
            </div>
          </div>
        </div>
        <div class="p-card-footer p-px-5 p-text-right">
          <button *ngIf="!loading; else loadingSpinner"
                  type="submit"
                  label="Activate"
                  pButton
          ></button>
          <ng-template #loadingSpinner>
            <p-progressSpinner [style]="{width: '30px', height: '30px'}">
            </p-progressSpinner>
          </ng-template>
        </div>
      </form>
      <div class="p-card-content" *ngIf="!expired && activated">
        <div class="p-card-content">
          <div class="p-grid p-px-5">
            <div class="p-col-12 p-mt-2 p-text-center">
              Your account was successfully activated.
            </div>
          </div>
        </div>
      </div>
      <div class="p-card-content" *ngIf="expired">
        <div class="p-card-content">
          <div class="p-grid p-px-5">
            <div class="p-col-12 p-mt-2 p-text-center">
              We apologize, but your activation link has expired.
            </div>
          </div>
        </div>
      </div>
    </p-card>
  </div>
</div>
