<div class="root">
  <div class="left">

    <app-preloader *ngIf="pending"></app-preloader>
    <app-empty *ngIf="!pending && !report" 
    [title]="'ERROR LOADING REPORT'"></app-empty>

    <table *ngIf="!pending && report" class="table table-bordered mat-elevation-z24">
      <thead>
        <tr>
          <th scope="col"></th>
          <th scope="col">COUNT</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <th scope="row">SUCCESS LOGS</th>
          <td>{{report.successLogs}}</td>
        </tr>
        <tr>
          <th scope="row">INFO LOGS</th>
          <td>{{report.infoLogs}}</td>
        </tr>
        <tr>
          <th scope="row">WARNING LOGS</th>
          <td>{{report.warningLogs}}</td>
        </tr>
        <tr>
          <th scope="row">ERROR LOGS</th>
          <td>{{report.errorLogs}}</td>
        </tr>
        <tr>
          <th scope="row">FATAL LOGS</th>
          <td>{{report.fatalLogs}}</td>
        </tr>
        <tr>
          <th scope="row">PATIENT ALARMS</th>
          <td>{{report.patientAlarms}}</td>
        </tr>
        <tr>
          <th scope="row">LOG ALARMS</th>
          <td>{{report.logAlarms}}</td>
        </tr>
        <tr>
          <th scope="row">DoS ALARMS</th>
          <td>{{report.dosAlarms}}</td>
        </tr>
        <tr>
          <th scope="row">BRUTE-FORCE ALARMS</th>
          <td>{{report.bruteForceAlarms}}</td>
        </tr>
      </tbody>
    </table>

  </div>

  <div class="right">
    <app-form>
      <h2>Search</h2>
        <form [formGroup]="searchForm">
          <div [class.disabled]="pending">
            <mat-form-field> 
              <mat-label>Start date</mat-label>
              <input 
              formControlName="start"
              matInput 
              placeholder="Enter start date"
              [matDatepicker]="start">
              <mat-datepicker-toggle matSuffix [for]="start"></mat-datepicker-toggle>
              <mat-datepicker #start></mat-datepicker>
            </mat-form-field>
            <mat-form-field> 
              <mat-label>End date</mat-label>
              <input 
              formControlName="end"
              matInput 
              placeholder="Enter end date"
              [matDatepicker]="end">
              <mat-datepicker-toggle matSuffix [for]="end"></mat-datepicker-toggle>
              <mat-datepicker #end></mat-datepicker>
            </mat-form-field>  
          </div>
          <app-spacer>
            <span></span>
            <span>
                <button 
                *ngIf="!pending" 
                (click)="getReport()"
                mat-raised-button>Search</button>
                <app-spinner *ngIf="pending"></app-spinner>    
            </span>
          </app-spacer>          
        </form>
    </app-form>
  </div>

</div>